syntax = "proto3";

package message;

// MessageService defines the gRPC service for handling messages
service MessageService {
  // ListMessages retrieves a list of messages for a given room
  rpc ListMessages (ListMessagesRequest) returns (ListMessagesResponse);

  // GetMessageStatus retrieves the status of a specific message
  rpc GetMessageStatus (GetMessageStatusRequest) returns (MessagesResponse);
}

// Request message for ListMessages
message ListMessagesRequest {
  string room_id = 1; // UUID of the room
  int32 limit = 2;   // Maximum number of messages to return
}

// Response message for ListMessages
message ListMessagesResponse {
  repeated MessageResponse messages = 1; // List of messages
}

// Request message for GetMessageStatus
message GetMessageStatusRequest {
  string message_id = 1; // UUID of the message
}

// Response message for GetMessageStatus
message MessagesResponse {
  repeated MessageResponse messages = 1; // Single message status
}

// Message response structure
message MessageResponse {
  string message_id = 1;  // UUID of the message
  string room_id = 2;    // UUID of the room
  string author_id = 3;  // UUID of the room
  string content = 4;    // Content of the message
  string status = 5;     // Status of the message
  int64 created_at = 6;   // Timestamp of the message
  int64 updated_at = 7;   // Timestamp of the message
}